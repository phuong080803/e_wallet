@startuml Authentication Module
!theme plain
title "XÁC THỰC (AUTHENTICATION)"

left to right direction

actor "User" as User
actor "Supabase System" as Supabase
actor "Email Service" as EmailService

rectangle "Authentication Module" {
    usecase "Đăng ký" as Register
    usecase "Đăng nhập" as Login
    usecase "Quên mật khẩu" as ForgotPassword
    usecase "Đăng xuất" as Logout
}

User --> Register
User --> Login
User --> ForgotPassword
User --> Logout

Supabase --> Register : validate & create
Supabase --> Login : authenticate
Supabase --> ForgotPassword : reset password
Supabase --> Logout : clear session

EmailService --> Register : send verification
EmailService --> ForgotPassword : send OTP

Register ..> EmailService : <<include>>
ForgotPassword ..> EmailService : <<include>>

@enduml
